@{

    var userName = "Anon";
    var user = User.Identity as System.Security.Claims.ClaimsIdentity;

    if(user != null)
    {
        userName = user.FindFirst(System.Security.Claims.ClaimTypes.Name)?.Value
        ?? user.FindFirst("name")?.Value;
    }
}

@if (User.Identity.IsAuthenticated)
{
    <ul class="nav navbar-nav navbar-right">
        <li><a asp-area="" asp-controller="Session" asp-action="SignOut">Sign out, @userName</a></li>
    </ul>
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li><a asp-area="" asp-controller="Session" asp-action="SignIn">Sign in</a></li>
    </ul>
}
